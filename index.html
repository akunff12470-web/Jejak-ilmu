<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Jejak Ilmu: Sekolah Terkunci</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  color:#eee;
  background:#000;
  background-image: radial-gradient(#111,#000);
  text-align:center;
}
.screen{display:none;padding:20px;}
.active{display:block}

button{
  width:100%;
  padding:14px;
  margin-top:10px;
  font-size:16px;
  background:#7a0000;
  color:white;
  border:none;
  border-radius:10px;
}

.card{
  background:rgba(10,10,10,0.9);
  padding:20px;
  border-radius:10px;
  animation:fade 1s;
}

@keyframes fade{
  from{opacity:0;transform:scale(0.95)}
  to{opacity:1;transform:scale(1)}
}

#jumpscare{
  position:fixed;
  inset:0;
  background:black;
  display:none;
  justify-content:center;
  align-items:center;
  z-index:999;
}

#jumpscare div{
  font-size:40px;
  color:red;
  animation:shake 0.3s infinite;
}

@keyframes shake{
  0%{transform:translate(0)}
  25%{transform:translate(-10px,5px)}
  50%{transform:translate(10px,-5px)}
  75%{transform:translate(-10px,-5px)}
  100%{transform:translate(0)}
}
</style>
</head>

<body>

<div id="start" class="screen active">
  <h1>üè´ JEJAK ILMU</h1>
  <p>Aku terbangun di sekolah tua. Pintu terkunci.</p>
  <p>Untuk keluar, aku harus menemukan <b>kunci</b> dengan menjawab <b>15 soal</b>.</p>
  <button onclick="startGame()">MASUK SEKOLAH</button>
</div>

<div id="game" class="screen">
  <h3 id="status"></h3>
  <div class="card">
    <p id="story"></p>
    <p id="question"></p>
    <div id="answers"></div>
  </div>
</div>

<div id="goodEnd" class="screen">
  <h1>üîë ENDING SELAMAT</h1>
  <p>Aku menemukan kunci dan berhasil keluar dari sekolah itu.</p>
  <p>Cahaya matahari menyelamatkanku.</p>
  <button onclick="location.reload()">MAIN LAGI</button>
</div>

<div id="badEnd" class="screen">
  <h1>‚ò†Ô∏è ENDING TERJEBAK</h1>
  <p>Pintu tertutup selamanya.</p>
  <p>Aku menjadi bagian dari sekolah ini‚Ä¶</p>
  <button onclick="location.reload()">COBA LAGI</button>
</div>

<div id="jumpscare">
  <div>üëÅÔ∏è</div>
</div>

<audio id="cricket" loop>
  <source src="https://www.soundjay.com/nature/sounds/crickets-1.mp3">
</audio>

<audio id="scare">
  <source src="https://www.soundjay.com/human/sounds/scream-02.mp3">
</audio>

<script>
const levels=[
 {s:"Aku berjalan di lorong kelas yang gelap.",q:"Jika 3¬≤ + 4¬≤ = ?",a:["25","49","13"],c:0},
 {s:"Pintu kelas terkunci rapat.",q:"Akar dari 144 adalah?",a:["11","12","14"],c:1},
 {s:"Bayangan bergerak di jendela.",q:"Sinonim 'konsekuensi'?",a:["Akibat","Tujuan","Sebab"],c:0},
 {s:"Suara langkah mengikutiku.",q:"15 √ó 8 ‚àí 20 = ?",a:["100","120","140"],c:0},
 {s:"Lampu berkedip.",q:"Ibukota Australia?",a:["Sydney","Canberra","Melbourne"],c:1},
 {s:"Aku menemukan papan tulis berdebu.",q:"Rumus luas lingkaran?",a:["œÄr¬≤","2œÄr","r¬≤"],c:0},
 {s:"Bisikan menyebut namaku.",q:"Kata baku dari 'resiko'?",a:["Risiko","Resiko","Resiqo"],c:0},
 {s:"Tangga menuju lantai atas.",q:"Jika x=5, maka 2x¬≤=?",a:["50","25","20"],c:0},
 {s:"Jam sekolah berhenti.",q:"Planet terbesar?",a:["Mars","Bumi","Jupiter"],c:2},
 {s:"Angin dingin berhembus.",q:"Sila ke-2 Pancasila?",a:["Persatuan","Kemanusiaan","Keadilan"],c:1},
 {s:"Aku hampir menemukan kunci.",q:"Volume kubus sisi 4?",a:["16","64","32"],c:1},
 {s:"Suara kursi diseret.",q:"Antonim 'abstrak'?",a:["Nyata","Imajinatif","Samar"],c:0},
 {s:"Pintu terakhir terlihat.",q:"FPB 24 dan 36?",a:["6","12","18"],c:1},
 {s:"Tanganku gemetar.",q:"Kalimat prosedur bertujuan?",a:["Menghibur","Memberi langkah","Meyakinkan"],c:1},
 {s:"Kunci ada di depanku.",q:"Jika 2‚Åµ = ?",a:["16","32","64"],c:1}
];

let lvl=0,life=5;

function startGame(){
 document.getElementById("start").classList.remove("active");
 document.getElementById("game").classList.add("active");
 document.getElementById("cricket").play();
 load();
}

function load(){
 if(lvl>=levels.length){
  document.getElementById("game").classList.remove("active");
  document.getElementById("goodEnd").classList.add("active");
  return;
 }
 let L=levels[lvl];
 document.getElementById("status").innerText=
 `SOAL ${lvl+1}/15 | ‚ù§Ô∏è ${life}`;
 document.getElementById("story").innerText=L.s;
 document.getElementById("question").innerText=L.q;
 let a=document.getElementById("answers");
 a.innerHTML="";
 L.a.forEach((x,i)=>{
  let b=document.createElement("button");
  b.innerText=x;
  b.onclick=()=>cek(i);
  a.appendChild(b);
 });
}

function cek(i){
 if(i===levels[lvl].c){
  lvl++; load();
 }else{
  life--;
  jumpscare();
  if(life<=0){
   setTimeout(()=>{
    document.getElementById("game").classList.remove("active");
    document.getElementById("badEnd").classList.add("active");
   },800);
  }
 }
}

function jumpscare(){
 document.getElementById("jumpscare").style.display="flex";
 document.getElementById("scare").play();
 setTimeout(()=>{
  document.getElementById("jumpscare").style.display="none";
 },600);
}
</script>

</body>
</html>
